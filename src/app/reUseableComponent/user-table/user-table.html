<div class="tableContainer">
  <table>
    <thead>
      <tr>
        <th scope="col">User Name</th>
        <th scope="col">User Id</th>
        <th scope="col">Main Unit</th>
        <th scope="col">Ticket</th>
        <th scope="col">Action</th>
        <th scope="col">Status</th>
        <th scope="col">Function</th>
        <th scope="col">Email</th>
        <th scope="col">Role</th>
        <th scope="col">Security Code</th>
        <th scope="col">Last Login Time</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let r of pageRows()">
        <th scope="row">{{ r.userName }}</th>
        <td>
          <span #userId>{{ r.userId }}</span>
          <i class="fa-solid fa-copy" (click)="userIdCopy(userId.innerText)"></i>
        </td>
        <td>{{ r.mainUnit }}</td>
        <td>{{ r.ticket }}</td>
        <td>
          <button>View Downline</button>
        </td>
        <td>
          <span class="active" *ngIf="r.status === 'Active'; else inact">Active</span>
          <ng-template #inact><span class="inActive">In-Active</span></ng-template>
        </td>
        <td>
          <button class="btn deposit-btn" (click)="isDepositOpen = true">
            <i class="fa-solid fa-piggy-bank"></i>
          </button>
          <button class="btn withdraw-btn" (click)="isWithdrawOpen = true">
            <i class="fa-solid fa-hand-holding-dollar"></i>
          </button>
          <button class="btn password-btn" (click)="isChangePasswordOpen = true">
            <i class="fa-solid fa-key"></i>
          </button>
          <button class="btn banned-btn" (click)="isBannedUserOpen = true">
            <i class="fa-solid fa-user-slash"></i>
          </button>
        </td>
        <td>{{ r.email }}</td>
        <td>{{ r.role }}</td>
        <td>{{ r.securityCode }}</td>
        <td>{{ r.lastLogin }}</td>
      </tr>
    </tbody>
    <tfoot></tfoot>
  </table>
</div>
<div class="pager">
  <div class="left">
    <label>
      Rows per page:
      <select [value]="pageSize()" (change)="setSize(+$any($event.target).value)">
        <option *ngFor="let s of sizes" [value]="s">{{ s }}</option>
      </select>
    </label>
    <span class="range">
      {{
        total() === 0
          ? '0–0 of 0'
          : pageIndex() * pageSize() + 1 + '–' + Math.min(total(), (pageIndex() + 1) * pageSize())
      }}
      of {{ total() }}
    </span>
  </div>

  <div class="right">
    <button (click)="first()" [disabled]="pageIndex() === 0" aria-label="First">«</button>
    <button (click)="prev()" [disabled]="pageIndex() === 0" aria-label="Prev">‹</button>
    <span class="pc">{{ pageIndex() + 1 }} / {{ pageCount() }}</span>
    <button (click)="next()" [disabled]="pageIndex() >= pageCount() - 1" aria-label="Next">
      ›
    </button>
    <button (click)="last()" [disabled]="pageIndex() >= pageCount() - 1" aria-label="Last">
      »
    </button>
  </div>
</div>

<!-- Deposit Modal Start -->
<app-data-modal [(open)]="isDepositOpen" title="Deposit">
  <!-- body -->
  <div class="form-grid">
    <div class="inputGp">
      <label> Amount </label>
      <div class="inputContainer">
        <app-input-only
          [inputType]="depositAmtType"
          [inputPlaceHolder]="depositPlaceHolder"
          [inputValue]="depositValue"
        ></app-input-only>
      </div>
    </div>
    <div class="inputGp">
      <label> Description </label>
      <div class="inputContainer">
        <app-input-only
          [inputType]="depositDescType"
          [inputPlaceHolder]="depositDescPlaceHolder"
          [inputValue]="depositDescValue"
        ></app-input-only>
      </div>
    </div>
  </div>

  <div modalActions class="btnGp">
    <app-button-component
      [action]="depositConfirmAction"
      [btnName]="depositConfirm"
      [type]="'primary'"
    ></app-button-component>
    <app-button-component
      [action]="depositCancleAction"
      (click)="isDepositOpen = false"
      [btnName]="depositCancle"
      [type]="'secondary'"
    ></app-button-component>
  </div>
</app-data-modal>
<!-- Deposit Modal End -->

<!-- Withdraw Modal Start -->
<app-data-modal [(open)]="isWithdrawOpen" title="Withdraw">
  <!-- body -->
  <div class="form-grid">
    <div class="inputGp">
      <label> Amount </label>
      <div class="inputContainer">
        <app-input-only
          [inputType]="withdrawAmtType"
          [inputPlaceHolder]="withdrawPlaceHolder"
          [inputValue]="withdrawValue"
        ></app-input-only>
      </div>
    </div>
    <div class="inputGp">
      <label> Description </label>
      <div class="inputContainer">
        <app-input-only
          [inputType]="withdrawDescType"
          [inputPlaceHolder]="withdrawDescPlaceHolder"
          [inputValue]="withdrawDescValue"
        ></app-input-only>
      </div>
    </div>
  </div>

  <div modalActions class="btnGp">
    <app-button-component
      [action]="withdrawConfirmAction"
      [btnName]="withdrawConfirm"
      [type]="'primary'"
    ></app-button-component>
    <app-button-component
      [action]="withdrawCancleAction"
      (click)="isWithdrawOpen = false"
      [btnName]="withdrawCancle"
      [type]="'secondary'"
    ></app-button-component>
  </div>
</app-data-modal>
<!-- Withdraw Modal End -->

<!-- Change Password Modal Start -->
<app-data-modal [(open)]="isChangePasswordOpen" title="Change Password">
  <!-- body -->
  <div class="form-grid">
    <div class="inputGp">
      <label> New Password </label>
      <div class="inputContainer">
        <app-input-only
          [inputType]="changePasswordInputType"
          [inputPlaceHolder]="changePasswordPlaceHolder"
          [inputValue]="newPasswordVal"
        ></app-input-only>
      </div>
    </div>
  </div>

  <div modalActions class="btnGp">
    <app-button-component
      [action]="changePasswordConfirmAction"
      [btnName]="changePasswordConfirm"
      [type]="'success'"
    ></app-button-component>
    <app-button-component
      [action]="changePasswordCancleAction"
      (click)="isChangePasswordOpen = false"
      [btnName]="changePasswordCancle"
      [type]="'secondary'"
    ></app-button-component>
  </div>
</app-data-modal>
<!-- Change Password Modal End -->

<!-- Banned User Modal Start -->
<app-data-modal [(open)]="isBannedUserOpen" title="Banned User">
  <!-- body -->
  <div class="form-grid">
    <p>{{ bannedUserNoticText }}</p>
  </div>

  <div modalActions class="btnGp">
    <app-button-component
      [action]="bannedUserConfirmAction"
      [btnName]="bannedUserConfirm"
      [type]="'success'"
    ></app-button-component>
    <app-button-component
      [action]="bannedUserCancleAction"
      (click)="isBannedUserOpen = false"
      [btnName]="bannedUserCancle"
      [type]="'secondary'"
    ></app-button-component>
  </div>
</app-data-modal>
<!-- Banned User Modal End -->
